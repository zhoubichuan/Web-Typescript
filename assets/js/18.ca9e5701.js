(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{183:function(s,e,a){"use strict";a.r(e);var t=a(0),r=Object(t.a)({},(function(){var s=this.$createElement;this._self._c;return this._m(0)}),[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"安装-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker"}},[s._v("#")]),s._v(" 安装 Docker")]),s._v(" "),a("h2",{attrs:{id:"_1-安装所需依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装所需依赖"}},[s._v("#")]),s._v(" 1. 安装所需依赖")]),s._v(" "),a("p",[s._v("在安装 Docker 之前，需要安装 device-mapper-persistent-data 和 lvm2 两个依赖：\n我们使用使用 Yum 命令安装依赖：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum install -y yum-utils device-mapper-persistent-data lvm2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("device-mapper-persistent-data: 存储驱动，Linux 上的许多高级卷管理技术,lvm: 逻辑卷管理器，用于创建逻辑磁盘分区使用")])]),s._v(" "),a("h2",{attrs:{id:"_2-使用阿里云源安装-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用阿里云源安装-docker"}},[s._v("#")]),s._v(" 2. 使用阿里云源安装 Docker")]),s._v(" "),a("p",[s._v("接下来，添加阿里云的 Docker 镜像源，加速 Docker 的安装")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\nyum install docker-ce\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_3-启动-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动-docker"}},[s._v("#")]),s._v(" 3. 启动 Docker")]),s._v(" "),a("p",[s._v("使用 systemctl 启动 Docker")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl start docker\nsystemctl enable docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_4-验证安装成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-验证安装成功"}},[s._v("#")]),s._v(" 4. 验证安装成功")]),s._v(" "),a("p",[s._v("执行 docker -v ，如果展示以下信息，代表安装成功。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker -v\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_5-配置阿里云源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置阿里云源"}},[s._v("#")]),s._v(" 5. 配置阿里云源")]),s._v(" "),a("p",[s._v("我们拉取 Docker 镜像时，一般默认会去 Docker 官方源拉取镜像。但是国内出海网速实在是太慢，所以我们更换为 阿里云镜像仓库 源进行镜像下载加速\n登录阿里云官网，打开 阿里云容器镜像服务。点击左侧菜单最下面的 镜像加速器 ，选择 Centos （如下图）\n按照官网的提示，执行命令，即可实现更换 Docker 镜像源地址")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir /etc/docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后创建并编写配置文件：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/docker/daemon.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("只需要将加速器地址对应的 json 部分复制进 daemon.json 文件即可。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "registry-mirrors": ["https://unbgcuqt.mirror.aliyuncs.com"]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("最后重启 docker：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo systemctl daemon-reload\nsudo systemctl restart docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}],!1,null,null,null);e.default=r.exports}}]);